{"version":3,"sources":["webpack:///webpack/bootstrap f43e8b3f706b43985003","webpack:///./javascript/index.js","webpack:///./javascript/board.js","webpack:///./javascript/spike.js"],"names":["board","Board","selection","sounds","play","document","getElementById","pause","tempo","reset","playColumn","init","spike","row","col","onclick","toggleSelect","e","whichSound","togglePlay","handleReset","onchange","handleTempo","mainInterval","setInterval","playTiles","bind","rate","Audio","srcElement","id","split","slice","getAttribute","setAttribute","classList","remove","add","parseInt","value","min","clearInterval","animate","prevColumn","currentTime","Spike","sprite","Image","src","loadImage","canvas","context","getContext","shift","width","height","totalFrames","currentFrame","frameRate","addEventListener","clearRect","drawImage"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f43e8b3f706b43985003","import Board from './board';\n\nconst board = new Board();\n\n\n\n// WEBPACK FOOTER //\n// ./javascript/index.js","import Spike from './spike';\n\nclass Board {\n  constructor() {\n    this.selection = {};\n    this.sounds = {};\n    this.play = document.getElementById('play');\n    this.pause = document.getElementById('pause');\n    this.tempo = document.getElementById('tempo');\n    this.reset = document.getElementById('reset');\n    this.playColumn = 0;\n    this.init();\n    this.spike = new Spike();\n  }\n\n  init() {\n    for (let row = 0; row < 8; row += 1) {\n      this.selection[row] = {};\n      this.sounds[row] = {};\n      for (let col = 0; col < 8; col += 1) {\n        this.selection[row][col] = document.getElementById(`tile-${row}-${col}`);\n        this.selection[row][col].onclick = e => this.toggleSelect(e);\n        this.sounds[row][col] = this.whichSound(row, col);\n      }\n    }\n    this.play.onclick = e => this.togglePlay(e);\n    this.pause.onclick = e => this.togglePlay(e);\n    this.reset.onclick = () => this.handleReset();\n    this.tempo.onchange = () => this.handleTempo();\n    this.mainInterval = setInterval(this.playTiles.bind(this), this.rate());\n  }\n\n  whichSound(row, col) {\n    switch (row) {\n      case 0:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-0173158-0111436-callmeking-sifu-snare-130bpm_tf5dyb.mp3');\n      case 1:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-1099214-0110961-eluterius-a-bag-full-of-spiders_adahfs.mp3');\n      case 2:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-1093714-0110444-slicexbeats-reversing-cymbal-hits_pfwpmb.mp3');\n      case 3:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-1871485-0109347-grwi2016-no-role-modelz-bass_udpun0.mp3');\n      case 4:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-0173158-0111060-callmeking-creepin-snare-clap-132bpm_ynhge5.mp3');\n      case 5:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-2201803-0111523-sxker-happy-marimba-chords_ftdzty.mp3');\n      case 6:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803147/looperman-l-1655182-0108938-az96lol-mexikodro-rim_glncnm.mp3');\n      case 7:\n        return new Audio('https://res.cloudinary.com/dy4gcvjff/video/upload/v1501803148/looperman-l-1929922-0111261-alabafruit-bones-electronic-melodic-bones-percussion-120-bpm_rucmdn.mp3');\n    }\n  }\n\n  toggleSelect(e) {\n    let row, col;\n    [row, col] = e.srcElement.id.split('-').slice(-2);\n    if (this.selection[row][col].getAttribute('data')) {\n      this.selection[row][col].setAttribute('data', '');\n      e.srcElement.classList.remove('tile-selected');\n    } else {\n      this.selection[row][col].setAttribute('data', '1');\n      e.srcElement.classList.add('tile-selected');\n    }\n  }\n\n  togglePlay(e) {\n    if (this.play.getAttribute('data')) {\n      this.play.setAttribute('data', '');\n      this.play.classList.add('hidden');\n      this.pause.setAttribute('data', '1');\n      this.pause.classList.remove('hidden');\n    } else {\n      this.pause.setAttribute('data', '');\n      this.pause.classList.add('hidden');\n      this.play.setAttribute('data', '1');\n      this.play.classList.remove('hidden');\n    }\n  }\n\n  rate() {\n    const rate = parseInt(this.tempo.getAttribute('max')) - parseInt(this.tempo.value);\n    const min = parseInt(this.tempo.getAttribute('min'));\n    return rate + min;\n  }\n\n  handleReset() {\n    for (let row = 0; row < 8; row += 1) {\n      for (let col = 0; col < 8; col += 1) {\n        this.selection[row][col].setAttribute('data', '');\n        this.selection[row][col].classList.remove('tile-selected');\n      }\n    }\n  }\n\n  handleTempo() {\n    clearInterval(this.mainInterval);\n    this.mainInterval = setInterval(this.playTiles.bind(this), this.rate());\n  }\n\n  playTiles() {\n    if (this.pause.getAttribute('data')) {\n      this.spike.animate();\n      const prevColumn = this.playColumn === 0 ? 7 : this.playColumn - 1;\n      for (let row = 0; row < 8; row += 1) {\n        this.selection[row][prevColumn].classList.remove('tile-shadow');\n        this.selection[row][this.playColumn].classList.add('tile-shadow');\n        this.sounds[row][prevColumn].pause();\n        this.sounds[row][prevColumn].currentTime = 0;\n        if (this.selection[row][this.playColumn].getAttribute('data')) {\n          this.sounds[row][this.playColumn].play();\n        }\n      }\n      this.playColumn = this.playColumn === 7 ? 0 : this.playColumn + 1;\n    }\n  }\n\n\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./javascript/board.js","class Spike {\n  constructor() {\n    this.sprite = new Image();\n    this.sprite.src = 'https://res.cloudinary.com/dy4gcvjff/image/upload/v1501818042/SpikeDance_dcoubx.png';\n    this.loadImage = this.loadImage.bind(this);\n    this.animate = this.animate.bind(this);\n    this.canvas = document.getElementById('spikeAnimation');\n    this.context = this.canvas.getContext('2d');\n    this.shift = 0;\n    this.width = 250;\n    this.height = 270;\n    this.totalFrames = 14;\n    this.currentFrame = 0;\n    this.init();\n    this.frameRate = 0;\n  }\n\n  init() {\n    this.sprite.addEventListener('load', this.loadImage, false);\n  }\n\n  loadImage(e) {\n    this.animate();\n  }\n\n  setFrameRate(rate) {\n\n  }\n\n  animate() {\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.context.drawImage(this.sprite, this.shift, 0, this.width, this.height, 0, 0, this.width, this.height);\n    this.shift += this.width;\n    if (this.currentFrame === this.totalFrames) {\n      this.shift = 0;\n      this.currentFrame = 0;\n    }\n    this.currentFrame += 1;\n  }\n}\n\nexport default Spike;\n\n\n\n// WEBPACK FOOTER //\n// ./javascript/spike.js"],"sourceRoot":""}